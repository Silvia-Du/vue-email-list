<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CDN Axios  -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <!-- /CDN Axios  -->
  <link rel="stylesheet" href="css/style.css">
  <title>Vue Email List</title>
</head>
<body>
  
<div id="app">
  
  <main class="d-flex">
    <!-- v-if error -->
    <div v-if="!isError">

      <div v-if="isLoading" class="loading-box d-flex debug">
        <img src="https://c.tenor.com/n4w0VzWFbtgAAAAC/loading.gif" alt="Loading">
      </div>

      <!-- container (else)-->
      <div 
      v-else
      class="container d-flex">
  
        <h1>Mail aziendali per i tuoi dipendenti</h1>
        <div class="col-container d-flex">
          <!-- col-left -->
          <div class="col left">
            <h3>E mail list</h3>
            <div 
            v-if="!assignedMail.includes(index)"
            v-for="(email, index) in eMailList"
            @click="getMailToUser(index)"
            class="row">
              <p>{{email}}</p>
            </div>
            <h3 v-show="assignedMail.length === eMailList.length">
              Non hai pi√π e mail da assegnare!
            </h3>
          </div>
          <!-- col-right -->
          <div class="col right">

            <div class="team-member d-flex">
              <img :src="`./img/${teamList[Selectedindex].image}.png`" :alt="teamList[Selectedindex].name">
              <h3>{{teamList[Selectedindex].name}}</h3>

              <h3 v-if="teamList[Selectedindex].email === ''"
              class="allert">
                Assegna una mail a questo dipendente
              </h3>
              <h3 v-else class="emply-mail-text">
                {{teamList[Selectedindex].email}}
              </h3>
            </div>
            <div class="team-list">
              <div
              @click="getActiveMember(index)"
              v-for="(member, index) in teamList"
              class="box d-flex">
                <img :src="`./img/${member.image}.png`" :alt="member.name">
              </div>
            </div>
          </div>
  
        </div>
        
      </div>
      <!-- /container -->
    </div>
    <!-- /v-if error & init v-else -->
    <div v-else>
      <div class="error-box">
        <h1>{{errorMsg}}</h1>
        <img src="./img/error-img.png" alt="error-img">
      </div>
    </div>
  </main>





</div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="./js/script.js"></script>
</body>
</html>